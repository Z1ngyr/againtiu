# Супер Лабораторная работа 1
___
## В чем суть?
В современном мире все рабочее ПО в основной массе стараются делать в виде веб-сервисов.
По сути, веб сервис - это ПО, работающее на сервере, графический интерфейс которого реализован в виде сайта.

Почему?

Потому что так можно:
- Сэкономить на дорогих компьютерах и закупить технику подешевле.
- Сэкономить на штате системных администраторов, которые бегают и устанавливают ПО на компьютеры, попутно решая проблемы с совместимостью.
- Упростить процедуру обновления ПО (одно дело обновить ПО на подконтрольных серверах, другое дело обновить ПО на огромном парке неподконтрольных машин).
- Упростить процедуру разработки (не надо писать версии под разные операционные системы) Шок-контент! Windows - это не единственная в мире ОС! Лично я на работе использую Ubuntu. А еще есть Mac, целый зоопарк линуксов и т.д.
- Упростить доступ с разных устройств (телефон, например).
- Улучшить безопасность ПО.
- Проще масштабировать ПО.

Поэтому если ваше ПО не имеет жесткой связи с железкой, на которой оно крутится, с вероятностью в 99,9% оно будет реализовано в виде веб-сервиса.
Пример жесткой связи с железом: тепловизор, например, со всеми своими датчиками, кассовый аппарат со сканером, девайс для перепрошивки и настройки двигателей и т.п.

Так что мы с вами в рамках этой лабораторной работы посмотрим на простейший веб-сервис и добавим в него функционал.
Он работает с БД sqlite и использует фреймворк flask для общения с браузером, а также отрисовки страниц (это делает шаблонизатор jinja2, который входит в пакет flask).
Стили элементов добавлены из библиотеки Bootstrap

## Как мне запустить веб-сервер с этим сервисом?
Запускать мы его будем в режиме разработчика. Для этого вам нужно будет сделать следующие действия:
- Создать виртуальное окружение
- Активировать виртуальное окружение
- Установить в него пакеты из requirements.txt
- Запустить веб-сервер, встроенный во flask

Теперь все то же самое, но в виде конкретных шагов:
- Открываем консоль, переходим в папку с этим проектом (команда: cd путь_к_папке_с_проектом)
- Вводим команду: python -m venv venv (в линуксе python3 -m venv venv) Должна создаться папка venv
- Вводим команду: venv\Scripts\activate.bat (в линуксе source venv/bin/activate) Должно появиться (venv) в начале строки в консоли
- Вводим команду: pip install -r requirements.txt (Должны побежать строчки, не должно быть ничего красного и со словом "ошибка" на английском языке)
- Вводим команду: flask run

Готово. Последняя команда собственно и запустит нужный нам сервер. Все предыдущие команды нужны для подготовки сервиса к запуску.
Почему так сложно? Для каждой ОС и даже для каждой версии ОС нужны свои собственные пакеты. (я-то это написал на Ubuntu, а вам запускать на винде).

## Готово, что дальше?
Нужно открыть в браузере тот адрес, на котором заработал наш веб-сервис и посмотреть, как он работает.
По умолчанию это адрес http://127.0.0.1:5000/

## Как оно работает?
Начните чтение кода этого сервиса с создания БД. Там находятся 2 файла, один является запросом на создание таблицы posts, в которой все хранится, а второй файл инициализирует БД (запускает запрос на создание и добавляет пример данных)

Далее я предлагаю вам взглянуть на файлы html-шаблонов страниц. Посмотрите, как они написаны, и что там есть внутри.
Если вы будете читать внимательно, то заметите, что в этом сервисе все кнопки и ссылки по сути являются гиперссылками (функция url_for() в шаблонах генерирует гиперссылку для той функции, имя которой вы в нее передаете, например url_for('create') в качестве результата выдаст /create, потому что в app.py мы привязали этот путь к функции create ).
Веб-сервер обрабатывает переходы по этим ссылкам и запускает ту функцию обработки запроса, которую вы привязали к запрашиваемому адресу. Это сделано в файле app.py

Итого: у вас есть БД, работа с ней пока что находится в файле app.py (по уму так делать не надо, их нужно разделять), есть шаблоны страниц, они вынесены в отдельные файлы (это хорошо), также в app.py есть контроллер, который задает соответствия между маршрутами и функциями обработки запросов, а также содержит в себе эти самые функции.

По хорошему, файл инициализации с настройками, контроллеры, работа с БД и отображение данных должны находиться в разных файлах.

На текущем этапе я хочу, чтобы вы поняли, как происходит обработка шаблонов страниц, связь между маршрутами и функциями обработки, а также основные принципы работы веб-сервисов.

## Что нужно сделать?
Нужно добавить шаблон, обработку адреса и функцию обработки запроса для страницы about.
Как это сделать?
- Скопируйте шаблон post.html, оставив там \<h2> заголовок  и \<p> абзац текста. Напишите в абраце и заголовке все, что захотите и сохраните шаблон под именем about.html в папке templates (flask по умолчанию ищет шаблоны в папке с таким названием)
- Откройте файл app.py и добавьте в его конце функцию about, которая состоит из одной строчки - возвращения результата работы функции render_template, которая принимает в качестве аргумента название шаблона (about.html). См. по аналогии с другими функциями.
- Над функцией добавьте декоратор @app.route('/about'), чтобы привязать маршрут /about к функции about
- Перезапустите веб-сервер, чтобы изменения вступили в силу
- Откройте сервис, перейдите на страницу "О нас", поздравляю, вы восхитительны!